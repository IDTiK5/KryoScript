-- // official vicehub ui library source code - Mobile & PC Support
-- // shitty code from 2021

local Global = getgenv and getgenv() or _G;
local LibraryFunctions = {Notifications = {}, Connections = {}, Flags = {}}

if not game:IsLoaded() then game.Loaded:wait() end

if game.CoreGui:FindFirstChild("Vice") then game.CoreGui:FindFirstChild("Vice"):Destroy() end 
if game.CoreGui:FindFirstChild("NotifsGui") then game.CoreGui:FindFirstChild("NotifsGui"):Destroy() end
if game.CoreGui:FindFirstChild("WatermarkUI") then game.CoreGui:FindFirstChild("WatermarkUI"):Destroy() end

local UserInputService = game:GetService('UserInputService')
local InputService = game:GetService('UserInputService')
local TextService = game:GetService('TextService')
local TweenService = game:GetService('TweenService')
local CoreGui = game:GetService('CoreGui')
local RenderStepped = game:GetService('RunService').RenderStepped
local LocalPlayer = game:GetService('Players').LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local RunService = game:GetService("RunService")

-- // Mobile detection
local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

function LibraryFunctions:Create(Class, Properties)
	local Object = Instance.new(Class)
	for Property, Value in next, Properties do
		Object[Property] = Value
	end
	return Object
end

function LibraryFunctions:GetMouseLocation(Inset)
	InputService:GetMouseLocation()
end

function LibraryFunctions:Connect(Signal, Function)
	local Connection = Signal:Connect(Function)
	table.insert(self.Connections, Connection)
	return Connection
end  

function LibraryFunctions:Hovering(a)
	local M = LibraryFunctions:GetMouseLocation()
	local P = a.AbsolutePosition
	local S = a.AbsoluteSize
	return (M.X >= P.X and M.X <= P.X + S.X) and (M.Y >= P.Y and M.Y <= P.Y + S.Y)
end

function LibraryFunctions:Round(Number, Increment)
	local Bracket = 1 / Increment
	return math.round(Number * Bracket) / Bracket
end

function LibraryFunctions:Tween(Object, Properties, Time, ...)
	TweenService:Create(Object, TweenInfo.new(Time, ...), Properties):Play()
end

local function GetMouseLocation(Inset)
	local Location = UserInputService:GetMouseLocation()
	if not Inset then
		Location -= Vector2.new(0, 36)
	end
	return Location
end

-- // Helper function to detect if input is mouse or touch
local function IsMouseOrTouch(inputType)
	return inputType == Enum.UserInputType.MouseButton1 or inputType == Enum.UserInputType.Touch
end

-- // Helper function to check if touch is inside a GUI element
local function IsTouchInside(touchPos, element)
	local absPos = element.AbsolutePosition
	local absSize = element.AbsoluteSize
	return touchPos.X >= absPos.X and touchPos.X <= absPos.X + absSize.X and
		   touchPos.Y >= absPos.Y and touchPos.Y <= absPos.Y + absSize.Y
end

local function MakeDraggable(topbarobject, object)
	local Dragging = nil
	local DragInput = nil
	local DragStart = nil
	local StartPosition = nil

	local function Update(input)
		local Delta = input.Position - DragStart
		local pos = UDim2.new(StartPosition.X.Scale, StartPosition.X.Offset + Delta.X,StartPosition.Y.Scale,StartPosition.Y.Offset + Delta.Y)
		local Tween = TweenService:Create(object, TweenInfo.new(0.2), {Position = pos})
		Tween:Play()
	end

	topbarobject.InputBegan:Connect(function(input)
		if IsMouseOrTouch(input.UserInputType) then
			Dragging = true
			DragStart = input.Position
			StartPosition = object.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					Dragging = false
				end
			end)
		end
	end)
	topbarobject.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			DragInput = input
		end
	end)
	UserInputService.InputChanged:Connect(function(input)
		if input == DragInput and Dragging then
			Update(input)
		end
	end)
end

local PID = LocalPlayer.UserId

local lib = {
	Animations = {
		AnimSpeed = 0.2,
		ElementsAS = 0.2
	}
}

local Vice = Instance.new("ScreenGui")
Vice.Name = "Vice"
Vice.Parent = RunService:IsStudio() and LocalPlayer.PlayerGui or CoreGui
Vice.ZIndexBehavior = Enum.ZIndexBehavior.Global

local NotifsGui = Instance.new("ScreenGui")
NotifsGui.Name = "NotifsGui"
NotifsGui.Parent = RunService:IsStudio() and LocalPlayer.PlayerGui or CoreGui
NotifsGui.ZIndexBehavior = Enum.ZIndexBehavior.Global

local NotifsHolder = Instance.new("Frame")
NotifsHolder.Name = "NotifsHolder"
NotifsHolder.Parent = NotifsGui
NotifsHolder.AnchorPoint = Vector2.new(1, 0.5)
NotifsHolder.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
NotifsHolder.BackgroundTransparency = 1.000
NotifsHolder.Position = UDim2.new(1, -20, 0.5, 0)
NotifsHolder.Size = UDim2.new(0, 300, 1, -40)

local NotifsHolderListing = Instance.new("UIListLayout")
NotifsHolderListing.Name = "NotifsHolderListing"
NotifsHolderListing.Parent = NotifsHolder
NotifsHolderListing.SortOrder = Enum.SortOrder.LayoutOrder
NotifsHolderListing.VerticalAlignment = Enum.VerticalAlignment.Bottom
NotifsHolderListing.Padding = UDim.new(0, 5)

function lib:Create(ver, size, hidekey)
	local hidekey = hidekey or Enum.KeyCode.RightShift
	local MainFrame = Instance.new("Frame")
	MainFrame.Name = "MainFrame"
	MainFrame.Parent = Vice
	MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	MainFrame.BackgroundColor3 = Color3.fromRGB(23, 20, 41)
	MainFrame.BorderSizePixel = 0
	MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
	MainFrame.Size = UDim2.new(0, 900, 0, 825)
	if size == '' or nil then
		MainFrame.Size = UDim2.new(0, 700, 0, 625)
	else
		MainFrame.Size = size
	end

	local MainGlow = Instance.new("ImageLabel")
	MainGlow.Name = "MainGlow"
	MainGlow.Parent = MainFrame
	MainGlow.BackgroundTransparency = 1
	MainGlow.Position = UDim2.new(0, -15, 0, -15)
	MainGlow.Size = UDim2.new(1, 30, 1, 30)
	MainGlow.ZIndex = 0
	MainGlow.Image = "rbxassetid://5028857084"
	MainGlow.ImageColor3 = Color3.fromRGB(107, 89, 222)
	MainGlow.ScaleType = Enum.ScaleType.Slice
	MainGlow.SliceCenter = Rect.new(24, 24, 276, 276)

	local MainFrameCorner = Instance.new("UICorner")
	MainFrameCorner.CornerRadius = UDim.new(0, 4)
	MainFrameCorner.Name = "MainFrameCorner"
	MainFrameCorner.Parent = MainFrame

	local LeftBarBack = Instance.new("Frame")
	LeftBarBack.Name = "LeftBarBack"
	LeftBarBack.Parent = MainFrame
	LeftBarBack.BackgroundColor3 = Color3.fromRGB(13, 10, 28)
	LeftBarBack.Size = UDim2.new(0, 80, 1, 0)

	local LeftBarBackCorner = Instance.new("UICorner")
	LeftBarBackCorner.CornerRadius = UDim.new(0, 4)
	LeftBarBackCorner.Name = "LeftBarBackCorner"
	LeftBarBackCorner.Parent = LeftBarBack

	local AllTabBtns = Instance.new("Frame")
	AllTabBtns.Name = "AllTabBtns"
	AllTabBtns.Parent = LeftBarBack
	AllTabBtns.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	AllTabBtns.BackgroundTransparency = 1.000
	AllTabBtns.Position = UDim2.new(0, 0, 0, 80)
	AllTabBtns.Size = UDim2.new(1, 0, 1, -80)

	local AllTabBtnsListing = Instance.new("UIListLayout")
	AllTabBtnsListing.Name = "AllTabBtnsListing"
	AllTabBtnsListing.Parent = AllTabBtns
	AllTabBtnsListing.SortOrder = Enum.SortOrder.LayoutOrder
	AllTabBtnsListing.Padding = UDim.new(0, 10)

	local TopBar = Instance.new("Frame")
	TopBar.Name = "TopBar"
	TopBar.Parent = MainFrame
	TopBar.BackgroundColor3 = Color3.fromRGB(23, 20, 46)
	TopBar.BorderSizePixel = 0
	TopBar.Position = UDim2.new(0, 80, 0, 0)
	TopBar.Size = UDim2.new(1, -80, 0, 60)

	local TopBarCorner = Instance.new("UICorner")
	TopBarCorner.CornerRadius = UDim.new(0, 4)
	TopBarCorner.Name = "TopBarCorner"
	TopBarCorner.Parent = TopBar

	local AllPages = Instance.new("Frame")
	AllPages.Name = "AllPages"
	AllPages.Parent = MainFrame
	AllPages.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	AllPages.BackgroundTransparency = 1.000
	AllPages.Position = UDim2.new(0, 80, 0, 60)
	AllPages.Size = UDim2.new(1, -80, 1, -60)
	AllPages.ZIndex = 2

	local AllPagesFolder = Instance.new("Folder")
	AllPagesFolder.Name = "AllPagesFolder"
	AllPagesFolder.Parent = AllPages

	MakeDraggable(TopBar, MainFrame)

	local tabs = {}

	function tabs:Tab(title, AssID, desc1, desc2)
		local Tab = Instance.new("Frame")
		Tab.Name = "Tab"
		Tab.Parent = AllTabBtns
		Tab.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Tab.BackgroundTransparency = 1.000
		Tab.Size = UDim2.new(1, 0, 0, 42)

		local TabTitle = Instance.new("TextLabel")
		TabTitle.Name = "TabTitle"
		TabTitle.Parent = Tab
		TabTitle.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		TabTitle.BackgroundTransparency = 1.000
		TabTitle.BorderSizePixel = 0
		TabTitle.Position = UDim2.new(0, 0, 1, -14)
		TabTitle.Size = UDim2.new(1, 0, 0, 14)
		TabTitle.RichText = true
		TabTitle.Font = Enum.Font.GothamMedium
		TabTitle.Text = title
		TabTitle.TextColor3 = Color3.fromRGB(122, 122, 122)
		TabTitle.TextSize = 12
		TabTitle.TextTransparency = 0

		local TabImage = Instance.new("ImageLabel")
		TabImage.Name = "TabImage"
		TabImage.Parent = Tab
		TabImage.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TabImage.BackgroundTransparency = 1.000
		TabImage.AnchorPoint = Vector2.new(0.5, 0)
		TabImage.Position = UDim2.new(0.5, 0, 0, 3)
		TabImage.Size = UDim2.new(0, 18, 0, 18)
		TabImage.Image = "http://www.roblox.com/asset/?id=" .. AssID
		TabImage.ImageColor3 = Color3.fromRGB(122, 122, 122)
		TabImage.ImageTransparency = 0

		local TabHighlight = Instance.new("Frame")
		TabHighlight.Name = "TabHighlight"
		TabHighlight.Parent = Tab
		TabHighlight.BackgroundColor3 = Color3.fromRGB(102, 88, 218)
		TabHighlight.BackgroundTransparency = 0
		TabHighlight.BorderSizePixel = 0
		TabHighlight.AnchorPoint = Vector2.new(0, 0.5)
		TabHighlight.Position = UDim2.new(0, 0, 0.5, 0)
		TabHighlight.Size = UDim2.new(0, 4, 0, 0)

		local TabInteract = Instance.new("TextButton")
		TabInteract.Name = "TabInteract"
		TabInteract.Parent = Tab
		TabInteract.AnchorPoint = Vector2.new(0.5, 0.5)
		TabInteract.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TabInteract.BackgroundTransparency = 1.000
		TabInteract.Position = UDim2.new(0.5, 0, 0.5, 0)
		TabInteract.Size = UDim2.new(1, 0, 1, 0)
		TabInteract.Font = Enum.Font.SourceSans
		TabInteract.Text = ""
		TabInteract.TextColor3 = Color3.fromRGB(0, 0, 0)
		TabInteract.TextSize = 14.000

		local Page = Instance.new("Frame")
		Page.Name = "Page"
		Page.Parent = AllPagesFolder
		Page.AnchorPoint = Vector2.new(0.5, 0)
		Page.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Page.BackgroundTransparency = 1.000
		Page.Position = UDim2.new(0.5, 0, 0, 20)
		Page.Size = UDim2.new(1, 0, 1, -20)
		Page.ZIndex = 2
		Page.Visible = false

		local TabInnerTitle = Instance.new("TextLabel")
		TabInnerTitle.Name = "TabInnerTitle"
		TabInnerTitle.Parent = Page
		TabInnerTitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TabInnerTitle.BackgroundTransparency = 1.000
		TabInnerTitle.Position = UDim2.new(0, 20, 0, 0)
		TabInnerTitle.Size = UDim2.new(0, 196, 0, 20)
		TabInnerTitle.Font = Enum.Font.GothamMedium
		TabInnerTitle.Text = desc1
		TabInnerTitle.RichText = true
		TabInnerTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
		TabInnerTitle.TextSize = 20.000
		TabInnerTitle.TextXAlignment = Enum.TextXAlignment.Left

		local PageCont = Instance.new("Frame")
		PageCont.Name = "PageCont"
		PageCont.Parent = Page
		PageCont.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		PageCont.BackgroundTransparency = 1.000
		PageCont.Position = UDim2.new(0, 0, 0, 70)
		PageCont.Size = UDim2.new(1, 0, 1, -70)

		local AllSubTabBtns = Instance.new("Frame")
		AllSubTabBtns.Name = "AllSubTabBtns"
		AllSubTabBtns.Parent = PageCont
		AllSubTabBtns.AnchorPoint = Vector2.new(0.5, 0)
		AllSubTabBtns.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		AllSubTabBtns.BackgroundTransparency = 1.000
		AllSubTabBtns.Position = UDim2.new(0.5, 0, 0, 0)
		AllSubTabBtns.Size = UDim2.new(1, -40, 0, 30)

		local AllSubTabBtnsListing = Instance.new("UIListLayout")
		AllSubTabBtnsListing.Name = "AllSubTabBtnsListing"
		AllSubTabBtnsListing.Parent = AllSubTabBtns
		AllSubTabBtnsListing.FillDirection = Enum.FillDirection.Horizontal
		AllSubTabBtnsListing.SortOrder = Enum.SortOrder.LayoutOrder
		AllSubTabBtnsListing.VerticalAlignment = Enum.VerticalAlignment.Center
		AllSubTabBtnsListing.Padding = UDim.new(0, 5)

		TabInteract.MouseButton1Click:Connect(function()
			for i, v in next, AllPagesFolder:GetChildren() do
				coroutine.wrap(function()
					wait(lib.Animations.AnimSpeed)
					v.Visible = false
				end)()
			end
			coroutine.wrap(function()
				wait(lib.Animations.AnimSpeed)
				Page.Visible = true
			end)()

			for i, v in next, AllTabBtns:GetDescendants() do
				if v:IsA("TextLabel") then
					game.TweenService:Create(v, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {TextColor3 = Color3.fromRGB(122, 122, 122)}):Play()
				end
				if v:IsA("ImageLabel") then
					game.TweenService:Create(v, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {ImageColor3 = Color3.fromRGB(122, 122, 122)}):Play()
				end
				if v.Name == 'TabHighlight' then
					game.TweenService:Create(v, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {Size = UDim2.new(0, 4, 0, 0)}):Play()
				end
			end
			game.TweenService:Create(TabTitle, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {TextColor3 = Color3.fromRGB(255, 255, 255)}):Play()
			game.TweenService:Create(TabImage, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {ImageColor3 = Color3.fromRGB(255, 255, 255)}):Play()
			game.TweenService:Create(TabHighlight, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Size = UDim2.new(0, 4, 1, 0)}):Play()
		end)

		-- // MOBILE SUPPORT: Add touch input
		TabInteract.InputBegan:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.Touch then
				if IsTouchInside(input.Position, TabInteract) then
					TabInteract.MouseButton1Click:Fire()
				end
			end
		end)

		local subtabs = {}

		local PageItems = Instance.new("Frame")
		PageItems.Name = "PageItems"
		PageItems.Parent = PageCont
		PageItems.AnchorPoint = Vector2.new(0.5, 1)
		PageItems.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		PageItems.BackgroundTransparency = 1.000
		PageItems.Position = UDim2.new(0.5, 0, 1, 0)
		PageItems.Size = UDim2.new(1, 0, 1, -44)
		PageItems.Visible = true

		local AllSubPagesFolder = Instance.new("Folder")
		AllSubPagesFolder.Name = "AllSubPagesFolder"
		AllSubPagesFolder.Parent = PageItems

		function subtabs:SubTab(title, AssID)
			local SubTabBtnOutline = Instance.new("Frame")
			SubTabBtnOutline.Name = "SubTabBtnOutline"
			SubTabBtnOutline.Parent = AllSubTabBtns
			SubTabBtnOutline.BackgroundColor3 = Color3.fromRGB(107, 89, 222)
			SubTabBtnOutline.Size = UDim2.new(0, 110, 1, -4)

			local SubTabBtnOutlineCorner = Instance.new("UICorner")
			SubTabBtnOutlineCorner.CornerRadius = UDim.new(0, 4)
			SubTabBtnOutlineCorner.Name = "SubTabBtnOutlineCorner"
			SubTabBtnOutlineCorner.Parent = SubTabBtnOutline

			local SubTabBtnInline = Instance.new("Frame")
			SubTabBtnInline.Name = "SubTabBtnInline"
			SubTabBtnInline.Parent = SubTabBtnOutline
			SubTabBtnInline.AnchorPoint = Vector2.new(0.5, 0.5)
			SubTabBtnInline.BackgroundColor3 = Color3.fromRGB(23, 20, 41)
			SubTabBtnInline.Position = UDim2.new(0.5, 0, 0.5, 0)
			SubTabBtnInline.Size = UDim2.new(1, -2, 1, -2)

			local SubTabBtnInteract = Instance.new("TextButton")
			SubTabBtnInteract.Name = "SubTabBtnInteract"
			SubTabBtnInteract.Parent = SubTabBtnInline
			SubTabBtnInteract.AnchorPoint = Vector2.new(0.5, 0.5)
			SubTabBtnInteract.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			SubTabBtnInteract.BackgroundTransparency = 1.000
			SubTabBtnInteract.Position = UDim2.new(0.5, 0, 0.5, 0)
			SubTabBtnInteract.Size = UDim2.new(1, 0, 1, 0)
			SubTabBtnInteract.Font = Enum.Font.Gotham
			SubTabBtnInteract.Text = ""
			SubTabBtnInteract.TextColor3 = Color3.fromRGB(255, 255, 255)
			SubTabBtnInteract.TextSize = 12.000
			SubTabBtnInteract.TextXAlignment = Enum.TextXAlignment.Right

			SubTabBtnInteract.MouseEnter:Connect(function()
				TweenService:Create(SubTabBtnOutline, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(58, 49, 110)}):Play()
			end)

			SubTabBtnInteract.MouseLeave:Connect(function()
				TweenService:Create(SubTabBtnOutline, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(107, 89, 222)}):Play()
			end)

			local SubTabBtnIcon = Instance.new("ImageLabel")
			SubTabBtnIcon.Name = "SubTabBtnIcon"
			SubTabBtnIcon.Parent = SubTabBtnInline
			SubTabBtnIcon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			SubTabBtnIcon.BackgroundTransparency = 1.000
			SubTabBtnIcon.BorderSizePixel = 0
			SubTabBtnIcon.Position = UDim2.new(0, 3, 0.5, -9)
			SubTabBtnIcon.Size = UDim2.new(0, 18, 0, 18)
			SubTabBtnIcon.Image = "http://www.roblox.com/asset/?id=" .. AssID

			local SubTabBtnInlineCorner = Instance.new("UICorner")
			SubTabBtnInlineCorner.CornerRadius = UDim.new(0, 4)
			SubTabBtnInlineCorner.Name = "SubTabBtnInlineCorner"
			SubTabBtnInlineCorner.Parent = SubTabBtnInline

			local SubTabBtnTitle = Instance.new("TextLabel")
			SubTabBtnTitle.Name = "SubTabBtnTitle"
			SubTabBtnTitle.Parent = SubTabBtnInline
			SubTabBtnTitle.AnchorPoint = Vector2.new(1, 0.5)
			SubTabBtnTitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			SubTabBtnTitle.BackgroundTransparency = 1.000
			SubTabBtnTitle.ClipsDescendants = true
			SubTabBtnTitle.Position = UDim2.new(1, -4, 0.5, 0)
			SubTabBtnTitle.Size = UDim2.new(1, -30, 1, 1)
			SubTabBtnTitle.Font = Enum.Font.Gotham
			SubTabBtnTitle.Text = title
			SubTabBtnTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
			SubTabBtnTitle.TextSize = 12.000
			SubTabBtnTitle.TextXAlignment = Enum.TextXAlignment.Right

			local Left = Instance.new("ScrollingFrame")
			Left.Name = "Left"
			Left.ClipsDescendants = false
			Left.Parent = AllSubPagesFolder
			Left.AnchorPoint = Vector2.new(0, 0.5)
			Left.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			Left.BackgroundTransparency = 1.000
			Left.Position = UDim2.new(0, 0, 0.5, 0)
			Left.Size = UDim2.new(0.5, 0, 1, 0)
			Left.Visible = false
			Left.BorderSizePixel = 0
			Left.ScrollBarImageColor3 = Color3.new(0.254902, 0.254902, 0.254902)
			Left.CanvasSize = UDim2.new(0, 0, 0, 0)
			Left.ScrollBarThickness = 0
			Left.BorderColor3 = Color3.new(0, 0, 0)

			local LeftListing = Instance.new("UIListLayout")
			LeftListing.Name = "LeftListing"
			LeftListing.Parent = Left
			LeftListing.HorizontalAlignment = Enum.HorizontalAlignment.Left
			LeftListing.SortOrder = Enum.SortOrder.LayoutOrder
			LeftListing.Padding = UDim.new(0, 1)
			
			local Right = Instance.new("ScrollingFrame")
			Right.Name = "Right"
			Right.ClipsDescendants = false
			Right.Parent = AllSubPagesFolder
			Right.AnchorPoint = Vector2.new(1, 0.5)
			Right.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			Right.BackgroundTransparency = 1.000
			Right.Position = UDim2.new(1, -1, 0.5, 0)
			Right.Size = UDim2.new(0.5, -2, 1, 0)
			Right.Visible = false
			Right.BorderSizePixel = 0
			Right.CanvasSize = UDim2.new(0, 0, 0, 0)
			Right.ScrollBarThickness = 0
			Right.BorderColor3 = Color3.new(0, 0, 0)

			local RightListing = Instance.new("UIListLayout")
			RightListing.Name = "RightListing"
			RightListing.Parent = Right
			RightListing.HorizontalAlignment = Enum.HorizontalAlignment.Left
			RightListing.SortOrder = Enum.SortOrder.LayoutOrder

			SubTabBtnInteract.MouseButton1Click:Connect(function()
				for i, v in next, AllSubPagesFolder:GetChildren() do
					coroutine.wrap(function()
						wait(lib.Animations.AnimSpeed)
						v.Visible = false
					end)()
				end
				coroutine.wrap(function()
					wait(lib.Animations.AnimSpeed)
					Left.Visible = true
					Right.Visible = true
				end)()

				for i, v in next, AllSubTabBtns:GetDescendants() do
					if v.Name == 'SubTabBtnInline' then
						TweenService:Create(v, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {BackgroundColor3 = Color3.fromRGB(23, 20, 41)}):Play()
					end
				end
				TweenService:Create(SubTabBtnInline, TweenInfo.new(lib.Animations.AnimSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {BackgroundColor3 = Color3.fromRGB(107, 89, 222)}):Play()
			end)

			-- // MOBILE SUPPORT: Add touch input for subtab
			SubTabBtnInteract.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.Touch then
					if IsTouchInside(input.Position, SubTabBtnInteract) then
						SubTabBtnInteract.MouseButton1Click:Fire()
					end
				end
			end)

			LibraryFunctions:Connect(LeftListing:GetPropertyChangedSignal("AbsoluteContentSize"), function()
				Left.CanvasSize = UDim2.new(0, LeftListing.AbsoluteContentSize.X, 0, LeftListing.AbsoluteContentSize.Y)
			end)
			LibraryFunctions:Connect(RightListing:GetPropertyChangedSignal("AbsoluteContentSize"), function()
				Right.CanvasSize = UDim2.new(0, RightListing.AbsoluteContentSize.X, 0, RightListing.AbsoluteContentSize.Y)
			end)

			local items = {}

			function items:Label(side, text, image)
				local Label = Instance.new("Frame")
				Label.Name = tostring(text)
				Label.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				Label.BorderSizePixel = 0
				Label.Size = UDim2.new(1, 0, 0, 36)

				local LabelTitle = Instance.new("TextLabel")
				LabelTitle.Name = "LabelTitle"
				LabelTitle.Parent = Label
				LabelTitle.AnchorPoint = Vector2.new(1, 0.5)
				LabelTitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				LabelTitle.BackgroundTransparency = 1.000
				LabelTitle.Position = UDim2.new(1, 0, 0.5, 0)
				LabelTitle.Size = UDim2.new(1, -40, 1, 0)
				LabelTitle.Font = Enum.Font.GothamMedium
				LabelTitle.Text = text
				LabelTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
				LabelTitle.TextSize = 12.000
				LabelTitle.TextXAlignment = Enum.TextXAlignment.Left

				if side == 'Left' then
					Label.Parent = Left
				elseif side == 'Right' then
					Label.Parent = Right
				end
				return {}
			end

			function items:Toggle(side, text, config, callback)
				text = text or "N/A"
				callback = callback or function() end
				local config = config or false 
				local toggled = config
				
				local Toggle = Instance.new("Frame")
				Toggle.Name = tostring(text)
				Toggle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				Toggle.BackgroundTransparency = 1.000
				Toggle.BorderSizePixel = 0
				Toggle.Size = UDim2.new(1, 0, 0, 36)

				local ToggleTitle = Instance.new("TextLabel")
				ToggleTitle.Name = "ToggleTitle"
				ToggleTitle.Parent = Toggle
				ToggleTitle.AnchorPoint = Vector2.new(1, 0.5)
				ToggleTitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				ToggleTitle.BackgroundTransparency = 1.000
				ToggleTitle.Position = UDim2.new(1, 0, 0.5, 0)
				ToggleTitle.Size = UDim2.new(1, -21, 1, 0)
				ToggleTitle.Font = Enum.Font.GothamMedium
				ToggleTitle.Text = text
				ToggleTitle.TextColor3 = Color3.fromRGB(155,155,155)
				ToggleTitle.TextSize = 12.000
				ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left

				local ToggleFrameBack = Instance.new("Frame")
				ToggleFrameBack.Name = "ToggleFrameBack"
				ToggleFrameBack.Parent = Toggle
				ToggleFrameBack.AnchorPoint = Vector2.new(1, 0.5)
				ToggleFrameBack.BackgroundColor3 = Color3.fromRGB(33, 28, 64)
				ToggleFrameBack.Position = UDim2.new(1, -12, 0.5, 0)
				ToggleFrameBack.Size = UDim2.new(0, 36, 0, 18)

				local ToggleFrameBackCorner = Instance.new("UICorner")
				ToggleFrameBackCorner.CornerRadius = UDim.new(1, 0)
				ToggleFrameBackCorner.Parent = ToggleFrameBack

				local ToggleFrameCircle = Instance.new("Frame")
				ToggleFrameCircle.Name = "ToggleFrameCircle"
				ToggleFrameCircle.Parent = ToggleFrameBack
				ToggleFrameCircle.AnchorPoint = Vector2.new(0, 0.5)
				ToggleFrameCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				ToggleFrameCircle.Position = UDim2.new(0, 3, 0.5, 0)
				ToggleFrameCircle.Size = UDim2.new(0, 14, 0, 14)

				local ToggleFrameCircleCorner = Instance.new("UICorner")
				ToggleFrameCircleCorner.CornerRadius = UDim.new(1, 0)
				ToggleFrameCircleCorner.Parent = ToggleFrameCircle

				local ToggleInteract = Instance.new("TextButton")
				ToggleInteract.Name = "ToggleInteract"
				ToggleInteract.Parent = Toggle
				ToggleInteract.AnchorPoint = Vector2.new(0.5, 0.5)
				ToggleInteract.BackgroundTransparency = 1.000
				ToggleInteract.Position = UDim2.new(0.5, 0, 0.5, 0)
				ToggleInteract.Size = UDim2.new(1, 0, 1, 0)
				ToggleInteract.Font = Enum.Font.SourceSans
				ToggleInteract.Text = ""

				local function toggleAction()
					if toggled == false then
						toggled = true
						TweenService:Create(ToggleFrameCircle, TweenInfo.new(lib.Animations.ElementsAS, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(0, 20, 0.5, 0)}):Play()
						TweenService:Create(ToggleFrameBack, TweenInfo.new(lib.Animations.ElementsAS, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(107, 89, 222)}):Play()
					else
						toggled = false
						TweenService:Create(ToggleFrameCircle, TweenInfo.new(lib.Animations.ElementsAS, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {Position = UDim2.new(0, 3, 0.5, 0)}):Play()
						TweenService:Create(ToggleFrameBack, TweenInfo.new(lib.Animations.ElementsAS, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(33, 28, 64)}):Play()
					end
					pcall(callback, toggled)
				end

				ToggleInteract.MouseButton1Click:Connect(toggleAction)

				-- // MOBILE SUPPORT: Add touch input for toggle
				ToggleInteract.InputBegan:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.Touch then
						if IsTouchInside(input.Position, ToggleInteract) then
							toggleAction()
						end
					end
				end)

				if config == true then
					toggled = true
					ToggleTitle.TextColor3 = Color3.fromRGB(255,255,255)
					TweenService:Create(ToggleFrameCircle, TweenInfo.new(0), {Position = UDim2.new(0, 20, 0.5, 0)}):Play()
					TweenService:Create(ToggleFrameBack, TweenInfo.new(0), {BackgroundColor3 = Color3.fromRGB(107, 89, 222)}):Play()
					pcall(callback, toggled)
				end 
				
				if side == 'Left' then
					Toggle.Parent = Left
				elseif side == 'Right' then
					Toggle.Parent = Right
				end
			end

			function items:Slider(side, text, start, min, max, inc, callback)
				local dragging = false
				local Slider = Instance.new("Frame")
				Slider.Name = tostring(text)
				Slider.BackgroundTransparency = 1.000
				Slider.Size = UDim2.new(1, 0, 0, 36)

				local SliderTitle = Instance.new("TextLabel")
				SliderTitle.Name = "SliderTitle"
				SliderTitle.Parent = Slider
				SliderTitle.AnchorPoint = Vector2.new(0, 0.5)
				SliderTitle.BackgroundTransparency = 1.000
				SliderTitle.Position = UDim2.new(0, 21, 0.5, 0)
				SliderTitle.Size = UDim2.new(0, 180, 1, 0)
				SliderTitle.Font = Enum.Font.GothamMedium
				SliderTitle.Text = text
				SliderTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
				SliderTitle.TextSize = 12.000
				SliderTitle.TextXAlignment = Enum.TextXAlignment.Left

				local SlideBack = Instance.new("Frame")
				SlideBack.Name = "SlideBack"
				SlideBack.Parent = Slider
				SlideBack.AnchorPoint = Vector2.new(1, 0.5)
				SlideBack.BackgroundColor3 = Color3.fromRGB(33, 28, 64)
				SlideBack.BorderSizePixel = 0
				SlideBack.Position = UDim2.new(1, -62, 0.5, 0)
				SlideBack.Size = UDim2.new(0, 130, 0, 2)

				local SlideCircle = Instance.new("Frame")
				SlideCircle.Name = "SlideCircle"
				SlideCircle.Parent = SlideBack
				SlideCircle.AnchorPoint = Vector2.new(0.5, 0.5)
				SlideCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				SlideCircle.Position = UDim2.new(0, 0, 0.5, 0)
				SlideCircle.Size = UDim2.new(0, 12, 0, 12)
				SlideCircle.ZIndex = 2

				local SlideCircleCorner = Instance.new("UICorner")
				SlideCircleCorner.CornerRadius = UDim.new(1, 0)
				SlideCircleCorner.Parent = SlideCircle

				local SlideBackLight = Instance.new("Frame")
				SlideBackLight.Name = "SlideBackLight"
				SlideBackLight.Parent = SlideBack
				SlideBackLight.AnchorPoint = Vector2.new(0, 0.5)
				SlideBackLight.BackgroundColor3 = Color3.fromRGB(107, 89, 222)
				SlideBackLight.BorderSizePixel = 0
				SlideBackLight.Position = UDim2.new(0, 0, 0.5, 0)
				SlideBackLight.Size = UDim2.new(0, 0, 0, 2)

				local SliderValue = Instance.new("TextBox")
				SliderValue.Name = "SliderValue"
				SliderValue.Parent = Slider
				SliderValue.BackgroundColor3 = Color3.fromRGB(61, 34, 134)
				SliderValue.BackgroundTransparency = 0.810
				SliderValue.Position = UDim2.new(0.797999978, 21, 0.222000003, 0)
				SliderValue.Size = UDim2.new(0, 27, 0, 16)
				SliderValue.Font = Enum.Font.Gotham
				SliderValue.Text = tostring(start)
				SliderValue.TextColor3 = Color3.fromRGB(255, 255, 255)
				SliderValue.TextSize = 12

				local SliderValCorner = Instance.new("UICorner")
				SliderValCorner.CornerRadius = UDim.new(0, 3)
				SliderValCorner.Parent = SliderValue

				local function move(Input)
					local XSize = math.clamp((Input.Position.X - SlideBack.AbsolutePosition.X) / SlideBack.AbsoluteSize.X, 0, 1)
					SlideBackLight:TweenSize(UDim2.new(XSize, 0, 0, 2), Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.1, true)
					SlideCircle:TweenPosition(UDim2.new(XSize, 0, 0.5, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.1, true)
					local Val = math.round((XSize * (max - min) + min) * 20) / 20
					SliderValue.Text = tostring(Val)
					pcall(callback, tonumber(Val))
				end

				SlideCircle.InputBegan:Connect(function(input)
					if IsMouseOrTouch(input.UserInputType) then
						dragging = true
					end
				end)
				SlideCircle.InputEnded:Connect(function(input)
					if IsMouseOrTouch(input.UserInputType) then
						dragging = false
					end
				end)
				SlideBack.InputBegan:Connect(function(input)
					if IsMouseOrTouch(input.UserInputType) then
						dragging = true
						move(input)
					end
				end)
				SlideBack.InputEnded:Connect(function(input)
					if IsMouseOrTouch(input.UserInputType) then
						dragging = false
					end
				end)

				RunService.InputChanged:Connect(function(input)
					if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
						move(input)
					end
				end)

				if side == 'Left' then
					Slider.Parent = Left
				elseif side == 'Right' then
					Slider.Parent = Right
				end
			end

			function items:Button(side, text, callback, callback_2, prompttitle, promptmessage)
				local Button = Instance.new("Frame")
				Button.Name = text or ''
				Button.BackgroundTransparency = 1.000
				Button.Size = UDim2.new(1, 0, 0, 36)

				local ButtonFrame = Instance.new("TextButton")
				ButtonFrame.Name = "ButtonFrame"
				ButtonFrame.Parent = Button
				ButtonFrame.AnchorPoint = Vector2.new(1, 0.5)
				ButtonFrame.BackgroundColor3 = Color3.fromRGB(34, 28, 64)
				ButtonFrame.Position = UDim2.new(1, -12, 0.5, 0)
				ButtonFrame.Size = UDim2.new(1, -33, 0, 22)
				ButtonFrame.Font = Enum.Font.GothamMedium
				ButtonFrame.Text = text
				ButtonFrame.TextColor3 = Color3.fromRGB(255, 255, 255)
				ButtonFrame.TextSize = 12.000
				ButtonFrame.AutoButtonColor = false

				local ButtonFrameCorner = Instance.new("UICorner")
				ButtonFrameCorner.CornerRadius = UDim.new(0, 3)
				ButtonFrameCorner.Parent = ButtonFrame

				local ButtonUIStroke = Instance.new("UIStroke")
				ButtonUIStroke.Color = Color3.fromRGB(107, 89, 222)
				ButtonUIStroke.Thickness = 0.8
				ButtonUIStroke.Parent = ButtonFrame

				local function buttonAction()
					if promptmessage ~= nil then
						-- Prompt logic here
						callback()
					else
						callback()
					end
				end

				ButtonFrame.MouseButton1Click:Connect(buttonAction)

				-- // MOBILE SUPPORT: Add touch input for button
				ButtonFrame.InputBegan:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.Touch then
						if IsTouchInside(input.Position, ButtonFrame) then
							buttonAction()
						end
					end
				end)

				ButtonFrame.MouseEnter:Connect(function()
					TweenService:Create(ButtonFrame, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(42, 34, 80)}):Play()
				end)

				ButtonFrame.MouseLeave:Connect(function()
					TweenService:Create(ButtonFrame, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {BackgroundColor3 = Color3.fromRGB(34, 28, 64)}):Play()
				end)

				if side == 'Left' then
					Button.Parent = Left
				elseif side == 'Right' then
					Button.Parent = Right
				end
			end

			function items:Dropdown(side, text, default, options, cb, multi)
				local opened = false
				local Dropdown = Instance.new("Frame")
				Dropdown.Name = text or ''
				Dropdown.BackgroundTransparency = 1.000
				Dropdown.Size = UDim2.new(1, 0, 0, 36)

				local DropdownTitle = Instance.new("TextLabel")
				DropdownTitle.Name = "DropdownTitle"
				DropdownTitle.Parent = Dropdown
				DropdownTitle.AnchorPoint = Vector2.new(0, 0.5)
				DropdownTitle.BackgroundTransparency = 1.000
				DropdownTitle.Position = UDim2.new(0, 21, 0.5, 0)
				DropdownTitle.Size = UDim2.new(0, 180, 1, 0)
				DropdownTitle.Font = Enum.Font.GothamMedium
				DropdownTitle.Text = text
				DropdownTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
				DropdownTitle.TextSize = 12.000
				DropdownTitle.TextXAlignment = Enum.TextXAlignment.Left

				local DropdownDropFrame = Instance.new("Frame")
				DropdownDropFrame.Name = "DropdownDropFrame"
				DropdownDropFrame.Parent = Dropdown
				DropdownDropFrame.AnchorPoint = Vector2.new(1, 0.5)
				DropdownDropFrame.BackgroundColor3 = Color3.fromRGB(34, 28, 64)
				DropdownDropFrame.Position = UDim2.new(1, -12, 0.5, 0)
				DropdownDropFrame.Size = UDim2.new(0, 173, 0, 22)

				local DropdownDropFrameCorner = Instance.new("UICorner")
				DropdownDropFrameCorner.CornerRadius = UDim.new(0, 2)
				DropdownDropFrameCorner.Parent = DropdownDropFrame

				local DropdownSelected = Instance.new("TextLabel")
				DropdownSelected.Name = "DropdownSelected"
				DropdownSelected.Parent = DropdownDropFrame
				DropdownSelected.BackgroundTransparency = 1.000
				DropdownSelected.Position = UDim2.new(0, 4, 0.5, 0)
				DropdownSelected.AnchorPoint = Vector2.new(0, 0.5)
				DropdownSelected.Size = UDim2.new(1, -24, 1, 0)
				DropdownSelected.Font = Enum.Font.Gotham
				DropdownSelected.Text = tostring(default)
				DropdownSelected.TextColor3 = Color3.fromRGB(255, 255, 255)
				DropdownSelected.TextSize = 12.000
				DropdownSelected.TextXAlignment = Enum.TextXAlignment.Left

				local DropdownInteract = Instance.new("TextButton")
				DropdownInteract.Name = "DropdownInteract"
				DropdownInteract.Parent = DropdownDropFrame
				DropdownInteract.BackgroundTransparency = 1
				DropdownInteract.Size = UDim2.new(1, 0, 1, 0)
				DropdownInteract.Text = ""
				DropdownInteract.AutoButtonColor = false

				local function handleDropdown()
					if options and #options > 0 then
						DropdownSelected.Text = tostring(options[1])
						pcall(cb, options[1])
					end
				end

				DropdownInteract.MouseButton1Click:Connect(handleDropdown)

				-- // MOBILE SUPPORT: Add touch input for dropdown
				DropdownInteract.InputBegan:Connect(function(input)
					if input.UserInputType == Enum.UserInputType.Touch then
						if IsTouchInside(input.Position, DropdownInteract) then
							handleDropdown()
						end
					end
				end)

				if side == 'Left' then
					Dropdown.Parent = Left
				elseif side == 'Right' then
					Dropdown.Parent = Right
				end
			end

			return items
		end
		return subtabs
	end
	return tabs
end

getgenv().library = lib
return lib
